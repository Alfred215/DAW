<!DOCTYPE html>
<html>

<head>
    <title>Prueba Ajax 1</title>
    <script>
        function procesaRespuesta(){
            var parrafo = document.getElementById("parrafo");
            if(peticion_http.readyState== 4 && peticion_http.status==200){
                //si los datos están listos y la respuesta es correcta
                parrafo.textContent=peticion_http.responseText;
                alert("Datos recibidos correctamente");
            }
        }
    </script>
</head>

<body>
    <p id="parrafo"></p>
    <script>
        //Comprobar que el navegador soporta AJAX
        if (window.XMLHttpRequest) {
            peticion_http = new XMLHttpRequest();
            alert("Su navegador soporta ajax con objetos XMLHttpRequest");
        }else if(window.ActiveXObject){
            peticion_http = new ActiveXObject("Microsoft.XMLHTTP");
            alert("Su navegador soporta AJAX con objetos active");
        }else{
            alert("Su navegador no soporta ajax")
        }

        //Asignar la función de procesamiento
        peticion_http.onreadystatechange=procesaRespuesta;

        //Preparar la petición
        peticion_http.open("GET","noticias.txt",true); //asincrono
        //peticion_http.open("GET","http://iessantiagohernandez.com",true); //Para llamar a páginas web, pero se necesita un pluggin
        
        //Enviar la petición
        peticion_http.send(null);
    </script>
</body>

</html>